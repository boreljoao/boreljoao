document.addEventListener('DOMContentLoaded', () => {
    window.addEventListener('load', () => {
        const loader = document.querySelector('.loader');
        if (loader) {
            loader.style.opacity = '0';
            loader.style.visibility = 'hidden';
            
            // Iniciar animações após o loader
            setTimeout(initAnimations, 300);
        }
    });

    // Cursor personalizado
    const cursor = document.querySelector('.cursor');
    const cursorFollower = document.querySelector('.cursor-follower');
    
    if (cursor && cursorFollower) {
        document.addEventListener('mousemove', (e) => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
            
            setTimeout(() => {
                cursorFollower.style.left = e.clientX + 'px';
                cursorFollower.style.top = e.clientY + 'px';
            }, 100);
        });
        
        // Efeito em links e elementos interativos
        const interactiveElements = document.querySelectorAll('a, button, .service-card, .skill-item');
        
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
                cursor.style.opacity = '0.5';
                cursorFollower.style.transform = 'translate(-50%, -50%) scale(1.5)';
            });
            
            el.addEventListener('mouseleave', () => {
                cursor.style.transform = 'translate(-50%, -50%) scale(1)';
                cursor.style.opacity = '1';
                cursorFollower.style.transform = 'translate(-50%, -50%) scale(1)';
            });
        });
    }
    // Animação de entrada dos elementos
    const animateElements = () => {
        const title = document.querySelector('.works-title');
        const sections = document.querySelectorAll('.works-section');
        const cards = document.querySelectorAll('.work-card');
        
        // Animação do título
        if (title) {
            title.style.opacity = '0';
            title.style.transform = 'translateY(20px)';
            title.style.transition = 'opacity 0.8s ease, transform 0.8s ease';
            
            setTimeout(() => {
                title.style.opacity = '1';
                title.style.transform = 'translateY(0)';
            }, 300);
        }
        
        // Animação das seções
        sections.forEach((section, index) => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(20px)';
            section.style.transition = `opacity 0.6s ease ${index * 0.2 + 0.3}s, transform 0.6s ease ${index * 0.2 + 0.3}s`;
            
            setTimeout(() => {
                section.style.opacity = '1';
                section.style.transform = 'translateY(0)';
            }, 500 + (index * 200));
        });
        
        // Animação dos cards (dentro de cada seção)
        cards.forEach((card, index) => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = `opacity 0.5s ease ${index * 0.1 + 0.5}s, transform 0.5s ease ${index * 0.1 + 0.5}s`;
            
            setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
            }, 600 + (index * 100));
        });
    };
    
    // Iniciar animações após pequeno delay
    setTimeout(animateElements, 300);
    
    // Efeito hover nos cards
    const workCards = document.querySelectorAll('.work-card:not(.coming-soon)');
    workCards.forEach(card => {
        card.addEventListener('mouseenter', () => {
            const image = card.querySelector('.work-image');
            if (image) {
                image.style.transform = 'scale(1.03)';
                image.style.transition = 'transform 0.5s ease';
            }
        });
        
        card.addEventListener('mouseleave', () => {
            const image = card.querySelector('.work-image');
            if (image) {
                image.style.transform = 'scale(1)';
            }
        });
    });
    
    // Atualizar ano atual (se necessário)
    const yearElement = document.querySelector('#current-year');
    if (yearElement) {
        yearElement.textContent = new Date().getFullYear();
    }
});